# クライアントSDK 詳細リファレンス

## コンストラクタ
`new CloudVar(url, options)`
- `options.room`: 自動参加するルーム名。

---

## メソッド

### `onChange(key, callback)`
- `key` に `"*"` を指定すると、**すべての変数の更新**を監視できます。
    - `callback(key, value)` という形式で引数を受け取ります。

---

## 自動バインドの仕様
CloudVarインスタンスが作成されると、以下の処理が自動で走ります。

1. **初期スキャン**: ページ内の `[cv-bind]` 属性を持つ全要素を探し、現在の変数の値を流し込みます。
2. **変更監視**: 変数が更新されるたびに、対応する `cv-bind` 要素を書き換えます。
3. **入力監視**: `input`, `textarea`, `select` 要素で `input` イベントが発生した際、その値を対応する変数に代入します。

## 注意点
- **重複設定**: 同じ `cv-bind` 名を複数の要素に設定した場合、それらすべてが同時に更新されます。
- **動的な要素**: JavaScriptなどで後から追加したDOM要素に対しては、初期スキャンが効かないため、必要に応じて手動で値を代入するか、SDKの拡張をお待ちください。
