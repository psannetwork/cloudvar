# ルーム管理と自動削除

## ルームのライフサイクル

1. **作成**: 誰かが `cv.join('room-name')` を実行した瞬間に作成されます。
2. **稼働**: 1人以上のユーザーが在室している間、データはメモリ上に保持されます。
3. **空室**: 全員が退出（またはブラウザを閉じる）すると、削除タイマーが作動します。
4. **削除**: 空室状態が `config.roomExpirationMs`（デフォルト5分）続くと、ルームとその中の変数は完全に消去されます。

## ルーム設定のカスタマイズ
`src/config.js` で以下の項目を調整できます。

```javascript
roomExpirationMs: 1000 * 60 * 5, // 削除までの猶予時間
```

## パスワード保護
ルーム名を指定する際にパスワードを添えることで、プライベートな空間を作れます。
```javascript
cv.join('secret-room', 'mypass123');
```
※ パスワードが設定されたルームに後から入る場合、正しいパスワードを指定しないとエラーになります。
