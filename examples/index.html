<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>CloudVar Logic Demo</title>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 20px; background: #f0f4f8; }
        .card { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); max-width: 400px; margin: 0 auto; }
        .btn { padding: 10px 20px; font-size: 1.2em; cursor: pointer; border: none; border-radius: 5px; background: #ddd; }
        .btn.active { background: #3b82f6; color: white; }
        .danger { color: red; font-weight: bold; }
    </style>
</head>
<body>

    <div class="card">
        <h2>クラウド・クリッカー</h2>
        
        <!-- cv-bind: スコア表示 -->
        <h1><span cv-bind="score">0</span></h1>

        <!-- cv-on: クリックで加算 (JS不要！) -->
        <button class="btn" cv-on="click: score++">押す！</button>
        
        <hr>

        <!-- cv-show: スコア10以上で表示 -->
        <!-- 注意: 現在の簡易版では変数の真偽値のみ。比較演算は将来拡張予定 -->
        <!-- ここではデモ用に isHigh を使う -->
        <div cv-show="isHigh">
            <p class="danger">ハイスコアモード突入！</p>
        </div>

        <button class="btn" 
            cv-class="isHigh: active" 
            cv-on="click: !isHigh">
            モード切替 (cv-class & cv-on)
        </button>
    </div>

    <!-- ビルドされたSDKを読み込む -->
    <script src="../dist/cloudvar.js"></script>
    <script>
        // 設定のみ。ロジックはHTMLに全て移動！
        const cv = new CloudVar('ws://localhost:5032', { room: 'logic-demo' });
        
        // 初期値（なくても動くが明示しておくと安全）
        score = score || 0;
        isHigh = isHigh || false;
    </script>
</body>
</html>
